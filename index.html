<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>P2P HLS Player Example</title>
<style>
  body, html {
    margin: 0;
    padding: 0;
    height: 100%;
  }

  .video-container {
    position: relative;
    width: 100%;
    height: 0;
    padding-bottom: 56.25%; /* 16:9 aspect ratio */
    overflow: hidden;
    background-color: #000; /* Fallback background color */
  }

  .video-container video {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .logo-overlay {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 5;
    opacity: 0.7; /* Adjust the opacity as needed */
  }

  .logo-overlay img {
    width: 100px; /* Adjust the width of the logo as needed */
    height: auto;
  }

  @media (max-width: 768px) {
    .logo-overlay {
      top: 10px;
      left: 280px;
      transform: none;
    }
  }
</style>
</head>
<body>

<div class="video-container">
  <video id="myVideo" controls autoplay poster="https://s10.gifyu.com/images/SYGkR.jpg">
    <!-- HLS source URL -->
    <source src="https://dai.google.com/ssai/event/oZNVxALASVyYS4HMtTpRCw/master.m3u8" type="application/x-mpegURL">
    Your browser does not support the video tag or HLS streams.
  </video>
  <div class="logo-overlay">
    <img src="https://s10.gifyu.com/images/SrMU9.png" alt="Logo">
  </div>
</div>

<!-- Include hls.js library -->
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<!-- Include P2P Media Loader library -->
<script src="https://cdn.jsdelivr.net/npm/p2p-media-loader-core@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script>
  var video = document.getElementById('myVideo');
  var hls = new Hls();

  // Check if HLS is supported
  if (Hls.isSupported()) {
    hls.loadSource('https://dai.google.com/ssai/event/oZNVxALASVyYS4HMtTpRCw/master.m3u8');
    hls.attachMedia(video);
    
    hls.on(Hls.Events.MANIFEST_PARSED, function () {
      video.play();
    });
  }
  // If not supported, fall back to standard video tag
  else if (video.canPlayType('application/vnd.apple.mpegurl')) {
    video.src = 'https://dai.google.com/ssai/event/oZNVxALASVyYS4HMtTpRCw/master.m3u8';
    video.addEventListener('loadedmetadata', function() {
      video.play();
    });
  }

  // Initialize P2P Media Loader
  var loader = new P2PMediaLoader({
    segments: {
      path: 'https://dai.google.com/ssai/event/oZNVxALASVyYS4HMtTpRCw/',
      xhrSetup: function (xhr, url) {
        // Optionally, add headers or configurations here
      }
    }
  });

  loader.init(video);
</script>

</body>
</html>
